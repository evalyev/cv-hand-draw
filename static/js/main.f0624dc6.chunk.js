(this["webpackJsonpupload-files"]=this["webpackJsonpupload-files"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(8),i=(n(22),n(7)),r=n(9),o=n(10),s=n(2),u=(n(23),n(11)),d=n.n(u),l=n(12),v=n.n(l),f=n(5),j=n(6),m=n(13),b=n(1);function h(e){var t,n,a=Object(c.useRef)(null),u=Object(c.useState)(!1),l=Object(s.a)(u,2),h=l[0],O=l[1],p=Object(c.useState)({x:0,y:0}),x=Object(s.a)(p,2),y=x[0],w=x[1],g=Object(c.useState)({x:0,y:0}),S=Object(s.a)(g,2),E=S[0],k=S[1],H=Object(c.useState)(!0),C=Object(s.a)(H,2),F=C[0],N=C[1],q=Object(c.useState)(!0),L=Object(s.a)(q,2),R=L[0],M=L[1],W=Object(c.useRef)(null),X=new f.Hands({locateFile:function(e){return"https://cdn.jsdelivr.net/npm/@mediapipe/hands@".concat(f.VERSION,"/").concat(e)}}),Y=function(e){if(N(!1),e){var t=a.current,n=W.current,c=t.video.videoWidth,i=t.video.videoHeight;if(n.width=c,n.height=i,e.multiHandLandmarks&&e.multiHandLandmarks.length>0){var r=e.multiHandLandmarks[0][8],s=n.clientWidth,u=n.clientHeight;k({x:(1-r.x)*s,y:r.y*u});var d,l=n.getContext("2d"),v=Object(o.a)(e.multiHandLandmarks);try{for(v.s();!(d=v.n()).done;){var f=d.value;Object(j.drawLandmarks)(l,f,{color:"#FF0000",fillColor:"#00FF00",radius:function(e){var t;return Object(j.lerp)(null===(t=e.from)||void 0===t?void 0:t.z,-.15,.1,5,1)}})}}catch(m){v.e(m)}finally{v.f()}O(!0),w({x:(1-r.x)*s,y:r.y*u}),l.restore()}else O(!1)}};return Object(c.useEffect)((function(){X.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),X.onResults(Y);var e,t=a.current;"undefined"!==typeof t&&null!==t&&(e=new m.Camera(null===t||void 0===t?void 0:t.video,{onFrame:function(){var e=Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.send({image:null===t||void 0===t?void 0:t.video});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:t.video.width,height:t.video.height}),e.start());document.querySelector(".btn-default").textContent="\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0434\u043e\u0441\u043a\u0443"}),[null===(t=a.current)||void 0===t||null===(n=t.video)||void 0===n?void 0:n.readyState]),Object(c.useEffect)((function(){if(!F){var e=y.x,t=y.y,n=E.x,c=E.y,a=1,i=(n-e)/a,r=(c-t)/a;!function n(){e+=i,t+=r;var c=new MouseEvent("mousemove",{view:window,bubbles:!0,cancelable:!0,screenX:e,screenY:t,clientX:e,clientY:t});document.querySelector("#signature-pad canvas").dispatchEvent(c),a>0&&(a--,requestAnimationFrame(n))}(),M(!1)}}),[E]),Object(c.useEffect)((function(){if(h){var e=new MouseEvent("mousedown",{clientX:E.x,clientY:E.y});document.querySelector("#signature-pad canvas").dispatchEvent(e)}else{var t=new MouseEvent("mouseup",{clientX:E.x,clientY:E.y});document.querySelector("#signature-pad canvas").dispatchEvent(t)}}),[h]),Object(b.jsxs)("div",{className:"canvas",children:[Object(b.jsx)(v.a,{clearButton:"true",options:{minWidth:.5,maxWidth:6}}),Object(b.jsx)("canvas",{className:"canvas-hands",ref:W}),Object(b.jsx)(d.a,{className:"webcam",mirrored:!0,ref:a}),F&&Object(b.jsx)("h2",{children:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),!F&&R&&Object(b.jsx)("h2",{children:"\u041f\u043e\u043c\u0430\u0448\u0438\u0442\u0435 \u0440\u0443\u043a\u043e\u0439 \u0434\u043b\u044f \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u043e\u0441\u043a\u0438"})]})}function O(){return Object(b.jsx)("div",{className:"page",children:Object(b.jsx)(h,{})})}var p=document.getElementById("root");Object(a.createRoot)(p).render(Object(b.jsx)(c.StrictMode,{children:Object(b.jsx)(O,{})}))}},[[25,1,2]]]);
//# sourceMappingURL=main.f0624dc6.chunk.js.map