(this["webpackJsonpupload-files"]=this["webpackJsonpupload-files"]||[]).push([[0],{22:function(e,t,n){},23:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(8),i=(n(22),n(7)),r=n(9),o=n(10),s=n(2),u=(n(23),n(11)),d=n.n(u),l=n(12),v=n.n(l),j=n(5),m=n(6),b=n(13),f=n(1);function h(e){var t,n,c=Object(a.useRef)(null),u=Object(a.useState)(!1),l=Object(s.a)(u,2),h=l[0],O=l[1],p=Object(a.useState)({x:0,y:0}),x=Object(s.a)(p,2),y=x[0],w=x[1],g=Object(a.useState)({x:0,y:0}),S=Object(s.a)(g,2),E=S[0],k=S[1],H=Object(a.useState)(!0),C=Object(s.a)(H,2),F=C[0],N=C[1],q=Object(a.useState)(!0),L=Object(s.a)(q,2),R=L[0],M=L[1],W=Object(a.useRef)(null),X=new j.Hands({locateFile:function(e){return"https://cdn.jsdelivr.net/npm/@mediapipe/hands@".concat(j.VERSION,"/").concat(e)}}),Y=function(e){if(F&&N(!1),e){var t=c.current,n=W.current,a=t.video.videoWidth,i=t.video.videoHeight;if(n.width=a,n.height=i,e.multiHandLandmarks&&e.multiHandLandmarks.length>0){var r=e.multiHandLandmarks[0][8],s=n.clientWidth,u=n.clientHeight;k({x:(1-r.x)*s,y:r.y*u});var d,l=n.getContext("2d"),v=Object(o.a)(e.multiHandLandmarks);try{for(v.s();!(d=v.n()).done;){var j=d.value;Object(m.drawLandmarks)(l,j,{color:"#FF0000",fillColor:"#00FF00",radius:function(e){var t;return Object(m.lerp)(null===(t=e.from)||void 0===t?void 0:t.z,-.15,.1,5,1)}})}}catch(x){v.e(x)}finally{v.f()}var b=new MouseEvent("mousedown",{clientX:(1-r.x)*s,clientY:r.y*u}),f=document.querySelector("#signature-pad canvas");h||(f.dispatchEvent(b),O(!0)),w({x:(1-r.x)*s,y:r.y*u}),l.restore()}else{var p=new MouseEvent("mouseup");document.querySelector("#signature-pad canvas").dispatchEvent(p),O(!1)}}};return Object(a.useEffect)((function(){X.setOptions({maxNumHands:2,modelComplexity:1,minDetectionConfidence:.5,minTrackingConfidence:.5}),X.onResults(Y);var e,t=c.current;"undefined"!==typeof t&&null!==t&&(e=new b.Camera(null===t||void 0===t?void 0:t.video,{onFrame:function(){var e=Object(r.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X.send({image:null===t||void 0===t?void 0:t.video});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),width:t.video.width,height:t.video.height}),e.start());document.querySelector(".btn-default").textContent="\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u0434\u043e\u0441\u043a\u0443"}),[null===(t=c.current)||void 0===t||null===(n=t.video)||void 0===n?void 0:n.readyState]),Object(a.useEffect)((function(){if(!F){var e=y.x,t=y.y,n=E.x,a=E.y,c=1,i=(n-e)/c,r=(a-t)/c;!function n(){e+=i,t+=r;var a=new MouseEvent("mousemove",{view:window,bubbles:!0,cancelable:!0,screenX:e,screenY:t,clientX:e,clientY:t});document.querySelector("#signature-pad canvas").dispatchEvent(a),c>0&&(c--,requestAnimationFrame(n))}(),M(!1)}}),[y]),Object(f.jsxs)("div",{className:"canvas",children:[Object(f.jsx)(v.a,{clearButton:"true",options:{minWidth:.5,maxWidth:6}}),Object(f.jsx)("canvas",{className:"canvas-hands",ref:W}),Object(f.jsx)(d.a,{className:"webcam",mirrored:!0,ref:c}),F&&Object(f.jsx)("h2",{children:"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435, \u0438\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),!F&&R&&Object(f.jsx)("h2",{children:"\u041f\u043e\u043c\u0430\u0448\u0438\u0442\u0435 \u0440\u0443\u043a\u043e\u0439 \u0434\u043b\u044f \u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u043e\u0441\u043a\u0438"})]})}function O(){return Object(f.jsx)("div",{className:"page",children:Object(f.jsx)(h,{})})}var p=document.getElementById("root");Object(c.createRoot)(p).render(Object(f.jsx)(a.StrictMode,{children:Object(f.jsx)(O,{})}))}},[[25,1,2]]]);
//# sourceMappingURL=main.ed42e918.chunk.js.map